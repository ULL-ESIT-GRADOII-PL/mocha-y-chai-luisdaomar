function Medida(e,t){this.valor=e,this.tipo=t}function Temperatura(e,t){Medida.call(this,e,t)}function Celsius(e){Temperatura.call(this,e)}function Farenheit(e){Temperatura.call(this,e)}function Kelvin(e){Temperatura.call(this,e)}!function(e){"use strict";function t(e,t){this.valor=e,this.tipo=t}function n(e,n){t.call(this,e,n)}function o(e){n.call(this,e)}function r(e){n.call(this,e)}function i(e){n.call(this,e)}n.prototype=new t,n.prototype.constructor=n,o.prototype=new n,o.prototype.constructor=o,o.prototype.toFarenheit=function(){return 9*this.valor/5+32},o.prototype.toKelvin=function(){return this.valor+273.15},r.prototype=new n,r.prototype.constructor=r,r.prototype.toCelsius=function(){return(this.valor-32)/1.8},r.prototype.toKelvin=function(){return(this.valor-32)/1.8+273.15},i.prototype=new n,i.prototype.constructor=i,i.prototype.toFarenheit=function(){return this.valor-273.15},i.prototype.toCelsius=function(){return 1.8*(this.valor-273.15)+32},e.Temperatura=n,e.Celsius=o,e.Farenheit=r,e.Kelvin=i,e.convertir=function(){var e=document.getElementById("convert").value,t=document.getElementById("converted"),n=XRegExp("(?<val> [-+]?[0-9]+(\\.[0-9]+)?(?:e[+-]?[0-9]+)?([ ]*)) #val \n(?<tipo> [cfkCFK]([ ]*)) #tipo \n(?<to> (to)([ ]+))? #to \n(?<opt>  [cfkCFK]([ ]*)) #opt","x");if(e=XRegExp.exec(e,n)){var a=e.val,u=e.tipo.toLowerCase(),s=e.opt.toLowerCase();switch(a=parseFloat(a),console.log("Valor: "+a+", Tipo: "+u+", Otro: "+s),u.charAt(0)){case"c":var c=new o(a);"f"==s&&(t.innerHTML=c.toFarenheit().toFixed(2)+" Farenheit"),"k"==s&&(t.innerHTML=c.toKelvin().toFixed(2)+" Kelvin"),"c"==s&&(t.innerHTML="Ya esta en Celsius");break;case"f":var l=new r(a);"c"==s&&(t.innerHTML=l.toCelsius().toFixed(2)+" Celsius"),"k"==s&&(t.innerHTML=l.toKelvin().toFixed(2)+"Kelvin"),"f"==s&&(t.innerHTML="Ya esta en farenheint");break;case"k":var p=new i(a);"c"==s&&(t.innerHTML=p.toCelsius().toFixed(2)+" Celsius"),"f"==s&&(t.innerHTML=p.toFarenheit().toFixed(2)+"Farenheit"),"k"==s&&(t.innerHTML="Ya esta en Kelvin");break;default:t.innerHTML="NAN"}}else t.innerHTML="Error pruebe a introduciar algo como: 32F C"}}(this),function(e){"use strict";function t(){var e=document.getElementById("convert").value,t=document.getElementById("converted");return t.innerHTML=Medida.convertir(e),!1}e.main=t}(this);var expect=chai.expect;describe("Conversor",function(){describe("Medida",function(){it("Cambio de f a c",function(){expect(Medida.convertir("32f to c")).to.equal("0.00 Celsius")})}),describe("Temperatura",function(){it("Creacion de un objeto Farenheit",function(){var e=new Farenheit(32);expect(e.valor).to.equal(32)}),it("Prueba de Farenheit a Celsius",function(){var e=new Farenheit(32);expect(e.toCelsius()).to.equal(0)}),it("Prueba de Farenheit a Kelvin",function(){var e=new Farenheit(32);expect(e.toKelvin()).to.equal(273.15)}),it("Creacion de un objeto Celsius",function(){var e=new Celsius(32);expect(e.valor).to.equal(32)}),it("Prueba de Celsius a Farenheit",function(){var e=new Celsius(32);expect(e.toFarenheit()).to.equal(89.6)}),it("Prueba de Celsius a Kelvin",function(){var e=new Celsius(32);expect(e.toKelvin()).to.equal(305.15)}),it("Creacion de un objeto Kelvin",function(){var e=new Kelvin(32);expect(e.valor).to.equal(32)}),it("Prueba de Kelvin a Farenheit",function(){var e=new Kelvin(32);expect(e.toFarenheit()).to.equal(-241.14999999999998)}),it("Prueba de Kelvin a Celsius",function(){var e=new Kelvin(32);expect(e.toCelsius()).to.equal(-402.07)})})}),Medida.match=function(e){return xregexp=XRegExp("(?<val> [-+]?[0-9]+(\\.[0-9]+)?(?:e[+-]?[0-9]+)?) #val \n(\\s*) \n(?<tipo> [a-zA-Z]) #tipo \n(\\s*) \n(?<to> (to)?) #to \n(\\s*) \n(?<opt>  [a-zA-Z]) #opt","x"),e=XRegExp.exec(e,xregexp)},Medida.measures={},Medida.convertir=function(e){var t=Medida.measures;t.c=Celsius,t.C=Celsius,t.f=Farenheit,t.F=Farenheit,t.k=Kelvin,t.K=Kelvin;var n=Medida.match(e);if(!n)return"Introduzca una temperatura valida: 330e-1 F to C";var o=n.val;tipo=n.tipo,destino=n.opt;try{var r=new t[tipo](o),i="to"+t[destino].name;return r[i]().toFixed(2)+" "+t[destino].name}catch(a){return console.log(a),'Desconozco como convertir desde "'+tipo+'" hasta "'+destino+'"'}},Temperatura.prototype=new Medida,Temperatura.prototype.constructor=Temperatura,Celsius.prototype=new Temperatura,Celsius.prototype.constructor=Celsius,Celsius.prototype.toFarenheit=function(){return 9*this.valor/5+32},Celsius.prototype.toKelvin=function(){return parseFloat(this.valor)+273.15},Farenheit.prototype=new Temperatura,Farenheit.prototype.constructor=Farenheit,Farenheit.prototype.toCelsius=function(){return(this.valor-32)/1.8},Farenheit.prototype.toKelvin=function(){return(this.valor-32)/1.8+273.15},Kelvin.prototype=new Temperatura,Kelvin.prototype.constructor=Kelvin,Kelvin.prototype.toFarenheit=function(){return this.valor-273.15},Kelvin.prototype.toCelsius=function(){return 1.8*(this.valor-273.15)+32};